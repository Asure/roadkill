***
*** FILE: DRRAM.ASM
***
*** JFL 24 NOV 92
*** JFL 25 JAN 93
*** JFL 12 MAR 93; SIMPLE MOVES
***

	.FILE	"DRRAM.ASM"
	.TITLE	"<<< AMUSEMENT PARK -- RAM DEFINITIONS >>>"
	.WIDTH	132
	.OPTION	B,D,L,T
	.MNOLIST

**************************************************************************
*								         *
* 	COPYRIGHT (C) 1992 MIDWAY MANUFACTURING COMPANY.		 *
* 		       ALL RIGHTS RESERVED.				 *
*								         *
**************************************************************************

	.INCLUDE	"AP.H"
	.INCLUDE	"DRINP.I"
	.INCLUDE	"DR.I"
	.INCLUDE	"DRS.I"
	.INCLUDE	"DRP.I"
	.INCLUDE	"DRT.I"
	.INCLUDE	"DRD.I"
	.INCLUDE	"DRC.I"
	.INCLUDE	"DRSND.I"
	.INCLUDE	"DRPAL.I"
	.INCLUDE	"DRPRO.I"
	
*IN THIS MODULE
	.DEF	COLRTEMP
	.DEF	SKYCOLOR
	.DEF	SEC_FLAG
	.DEF	COIL_CONTROL
	.DEF	PROTECTION	;DRRAM.ASM
	.DEF	PAGEADDR
	.DEF	PAGE
	.DEF	GAME_STATE
	.DEF	WRAMEND

	.DEF	SWITCHSTACK	;DRRAM.ASM
	.DEF	SWITCHST	;DRRAM.ASM
	.DEF	SWITCHSTX	;DRRAM.ASM
	.DEF	SWITCHRAM	;DRRAM.ASM
	.DEF	SWITCHRAMX	;DRRAM.ASM

	.DEF	GAMERASE
	.DEF	SYSCOPY
	.DEF	GRAMEND
	.DEF	SOUND_COPY
	.DEF	OldAECol
	.DEF	WAVEIRQS
	.DEF	WRAMSTRT
	.DEF	PAUSE_GAME
	.DEF	NewAECol
	.DEF	RAND
	.DEF	IRQSKYE
	.DEF	NOAUTOE
	.DEF	GRAMSTRT
	.DEF	NOPGFLIP
	.DEF	PTRRAM
	.DEF	PALRAM
	.DEF	SOUNDSUP
	.DEF	BUYNOW
	.DEF	WAVETIME
	.DEF	CURPLYRS
	.DEF	WAVE
	.DEF	DISPATCH_DELAY

	.DEF	WINNER		;DRRAM.ASM
	.DEF	CARDATA		;DRRAM.ASM
	.DEF	CARDATAX	;DRRAM.ASM
	.DEF	DRONEDATA	;DRRAM.ASM
	.DEF	DRONEDATAX	;DRRAM.ASM
	.DEF	DRDATA		;DRRAM.ASM
	.DEF	HITLIST		;DRRAM.ASM
	.DEF	DRCLEAR		;DRRAM.ASM
	.DEF	DRCLEARX	;DRRAM.ASM
	.DEF	WHOSHIT		;DRRAM.ASM
	.DEF	LAPCHECKPOINTS	;DRRAM.ASM
	.DEF	LAPSTOWIN	;DRRAM.ASM
	.DEF	PREREGSTORE1	;DRRAM.ASM
	.DEF	REGSTORE1	;DRRAM.ASM
	.DEF	PREREGSTORE2	;DRRAM.ASM
	.DEF	REGSTORE2	;DRRAM.ASM
	.DEF	REGSTORE1FLAGS	;DRRAM.ASM
	.DEF	TTRIG		;DRRAM.ASM
	.DEF	SCOREDATA	;DRRAM.ASM
	.DEF	SCDM		;DRRAM.ASM
	.DEF	OBJINITRAM	;DRRAM.ASM
	.DEF	OBJINITRAMAO	;DRRAM.ASM
	.DEF	OBJINITRAMSPAWN	;DRRAM.ASM
	.DEF	OBJINITRAMBG	;DRRAM.ASM
	.DEF	OBJINITRAMAOVEL	;DRRAM.ASM
	.DEF	OBJIHDRRAM	;DRRAM.ASM
	.DEF	OBJINITRAMMISSILE ;DRRAM.ASM
	.DEF	SCRATCH2K	;DRRAM.ASM
	.DEF	DRG		;DRRAM.ASM
	.DEF	ARENATMAP	;DRRAM.ASM
	.DEF	ARENATRACKINFO	;DRRAM.ASM
	.DEF	ARENAINIT	;DRRAM.ASM
	.DEF	PLAYERRECORDTBL	;DRRAM.ASM
	.DEF	J64Q		;DRRAM.ASM
	.DEF	ARENASCALETBL	;DRRAM.ASM
	.DEF	ARENASOUNDTBL	;DRRAM.ASM
	.DEF	ARENASOUNDTBLX	;DRRAM.ASM
	.DEF	GCOLLIST	;DRRAM.ASM
	.DEF	INDATA		;DRRAM.ASM
	.DEF	INDATAX	     	;DRRAM.ASM
	.DEF	AUTOVELLIST	;DRRAM.ASM
	.DEF	ARENAACTOBJS	;DRRAM.ASM
	.DEF	HOLDGAME	;DRRAM.ASM
	.DEF	DEBUGSTACK	;DRRAM.ASM
	.DEF	TIMERMAX	;DRRAM.ASM
	.DEF	PALFXFREELIST	;DRRAM.ASM
	.DEF	PALFXRAM	;DRRAM.ASM
	.DEF	PALFXRAMX	;DRRAM.ASM
	.DEF	PALCYCLELIST	;DRRAM.ASM

	.IF DEBUG
	.DEF	DMAQSTARTS	;DRRAM.ASM
	.DEF	DEBUGOBJ	;DRRAM.ASM
	.DEF	DEBUGMOVE	;DRRAM.ASM
	.ENDIF ;DEBUG

	.EVEN


	.BSS	NOAUTOE,16	;TURN AUTO ERASE OFF FOR DEBUG
	.BSS	RAMTEMP1,32	;TEMP STORAGE FOR ANYONE
	.BSS	RAMTEMP2,32	;MORE TEMP STORAGE FOR ANYONE

	.BSS	RAND,32		
	
	.BSS	SWITCHSTACK,32	;SWITCH STACK ENTRY POINTER
	.BSS	SWITCHST,64*10H	;SWITCH STACK STORAGE
	.BSS	SWITCHSTX,0
	.BSS	SWITCHRAM,SRSIZE ;FOR OLD SWITCH VALUE STORAGE
	.BSS	SWITCHRAMX,0

	.BSS	SYSCOPY,16	;RAM COPY OF SYSCTRL LATCH

	.BSS	HalfSwap,16	;USED FOR TVBP SCREEN PRESERVATION
	.BSS	PAGE,16		;CURRENT GRAPHICS PAGE # (0-1)
	.BSS	PAGEADDR,32	;CURRENT GRAPHICS PAGE ADDRESS
	.BSS	NOPGFLIP,16	;IF <> 0, THEN NO PAGE FLIPPING, FORCE TO 0

	.BSS	COIL_CONTROL,16	;CURRENT COPY OF COIL CONTROL LATCH ON SECCHIP
	.BSS	SOUND_COPY,16	;CURRENT COPY OF SOUND LATCH


	.BSS	PALRAM,PALRSIZ*NUMPAL	;PALETTE ALLOCATOR RAM
	.BSS	PTRRAM,PTRSIZ*NUMPTR

	.BSS	COLRTEMP,16*16	;RAM COPY OF CYCLING COLORS

	.BSS	NewAECol,32	;DESIRED AUTO-ERASE COLOR
	.BSS	OldAECol,32	;CURRENT AUTO-ERASE COLOR

	.BSS	SKYCOLOR,16	;CURRENT FULL BRIGHTNESS SKY COLOR VALUE
	.BSS	IRQSKYE,16	;ACTUAL SKY COLOR (AUTOERASE)

	.BSS	NPLAYERS,16	;MAX # OF PLAYERS ALLOWED
	.BSS	GAME_STATE,16	;GAME STATE VARIABLE 
	.BSS	GRAMSTRT,0	;START OF GAME RAM
	.BSS	CURPLYRS,16	;CURRENT NUMBER OF PLAYERS
	.BSS	WAVE,16		;CURRENT WAVE NUMBER
	.BSS	SOUNDSUP,16	;IF<>1 THEN NO SOUNDS SHALL BE MADE
	.BSS	GAMERASE,16
	.BSS	BUYNOW,16	;BUY IN WINDOW IS UP
	.BSS	GRAMEND,0
	.BSS	WRAMSTRT,0		;START OF WAVE RAM (CLEARED AT THE START)
	.BSS	WAVETIME,32		;ELAPSED WAVE TIME
	.BSS	WAVEIRQS,32		;ELAPSED WAVE DISPLAY INTERRUPTS
	.BSS	PAUSE_GAME,16		;IF <> 0, THEN PAUSE GAME PLAY
	.BSS	DISPATCH_DELAY,16	;TICKS BEFORE WE DISPATCH AGAIN
	.BSS	WRAMEND,0

	.IF NOTFINAL
	.BSS	INTADDR,32 ;FOR DEBUGGING, PTR TO INTERRUPTED PC (or 0)
	.BSS	LASTINT,32 ;LAST INTADDR
	.ENDIF

	.BSS	SEC_FLAG,16		;SECURITY FLAG


**
** BSS
** INIT IN DRINIT
**
	.BSS	DRCLEAR,0 		;--> CLEAR STARTS HERE <--			
	.BSS	DRDATA,DRDATASIZE		
	.BSS	CARDATA,CDSIZE*DRNUMCARS
	.BSS	CARDATAX,0
	.BSS	DRONEDATA,DDSIZE*DRNUMCARS
	.BSS	DRONEDATAX,0
 	.BSS	WHOSHIT,WHMAX*WHSIZE
	.BSS	HITLIST,32
	.BSS	WINNER,32     	
	.BSS	GCOLLIST,32		;HEAD OF GROUND COLLISION LIST
	.BSS	INDATA,INPSIZE*(DRNUMCARS+DRPLAYERS)
	.BSS	INDATAX,0
	.BSS	AUTOVELLIST,32	;UHL VEL ADD LIST

     	.IF DEBUG
	.BSS	DEBUGOBJ,32
     	.BSS	DMAQSTARTS,16		;DEBUG
	.BSS	DEBUGMOVE,32		;DEBUG MOVE DATA
	.ENDIF ;DEBUG
	.BSS	DRCLEARX,0		;--> CLEAR STOPS HERE <--

	.BSS	DRG,DRGSIZE
	.BSS	LAPCHECKPOINTS,16	;MASK FOR CHECKPOINTS
	.BSS	LAPSTOWIN,16		;HOW MANY LAPS TO WIN
	.BSS	ARENATMAP,32		;ARENA TERRAIN MAP
	.BSS	ARENATRACKINFO,32	;ARENA TRACK INFO
	.BSS	ARENAINIT,32		;ARENA INIT FUNC
	.BSS	ARENAACTOBJS,32			;ARENA ACTIVE OBJECTS
	.BSS	PREREGSTORE1,30*32		;REGISTER STORE & COMPARE
	.BSS	REGSTORE1,0
	.BSS	PREREGSTORE2,30*32		;REGISTER STORE & COMPARE
	.BSS	REGSTORE2,0
	.BSS	REGSTORE1FLAGS,32
     	.BSS	TTRIG,TTRIGSIZE
	.BSS	SCOREDATA,SCDSIZE*DRPLAYERS
	.BSS	SCDM,SCDMSIZE
     	.BSS	OBJINITRAM,COSIZE ;CREATE OBJ DEFINED IN APEQU
     	.BSS	OBJINITRAMAOVEL,COSIZE ;CREATE OBJ DEFINED IN APEQU
     	.BSS	OBJINITRAMSPAWN,COSIZE ;CREATE OBJ DEFINED IN APEQU
     	.BSS	OBJINITRAMBG,COSIZE ;CREATE OBJ DEFINED IN APEQU
     	.BSS	OBJINITRAMAO,COSIZE ;CREATE OBJ DEFINED IN APEQU
     	.BSS	OBJIHDRRAM,IHDRSIZ
	.BSS	OBJINITRAMMISSILE,COSIZE
	.BSS	PLAYERRECORDTBL,PLRSIZE*DRPLAYERS
	.BSS	ARENASCALETBL,ASTSIZE*ASTMAX
	.BSS	ARENASOUNDTBL,SNDTSIZE*SNDARENAX
	.BSS	ARENASOUNDTBLX,0
	.BSS	HOLDGAME,16,0
     	.BSS	J64Q,64*NOBJ
     	.BSS	SCRATCH2K,8*2048
	.BSS	DEBUGSTACK,32		;SP AT START OF PROCESS LOOP
	.BSS	TIMERMAX,16		;MAX TIMER
	.BSS	PALFXFREELIST,32
	.BSS	PALCYCLELIST,32
	.BSS	PALFXRAM,NUMPAL*PFXSIZE
	.BSS	PALFXRAMX,0
	.BSS	PROTECTION,PROSIZE

	.END
* EOF

